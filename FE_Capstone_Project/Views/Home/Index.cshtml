<!DOCTYPE html>
<html lang="en">
    @{
            var firstname = Context.Session.GetString("FirstName");
                    @model FE_Capstone_Project.Models.HomePageViewModel

}
<head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <title>Index - Tour Bootstrap Template</title>
    <meta name="description" content="">
    <meta name="keywords" content="">

    <!-- Favicons -->
    <link href="~/assets/img/favicon.png" rel="icon">
    <link href="~/assets/img/apple-touch-icon.png" rel="apple-touch-icon">

    <!-- Fonts -->
    <link href="https://fonts.googleapis.com" rel="preconnect">
    <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Raleway:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet">

    <!-- Vendor CSS Files -->
    <link href="~/assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <link href="~/assets/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">
    <link href="~/assets/vendor/aos/aos.css" rel="stylesheet">
    <link href="~/assets/vendor/swiper/swiper-bundle.min.css" rel="stylesheet">
    <link href="~/assets/vendor/glightbox/css/glightbox.min.css" rel="stylesheet">

    <!-- Main CSS File -->
    <link href="~/assets/css/main.css" rel="stylesheet">

    <!-- =======================================================
    * Template Name: Tour
    * Template URL: https://bootstrapmade.com/tour-bootstrap-travel-website-template/
    * Updated: Jul 01 2025 with Bootstrap v5.3.7
    * Author: BootstrapMade.com
    * License: https://bootstrapmade.com/license/
    ======================================================== -->
</head>

<body class="index-page">
    <main class="main">
        <!-- Travel Hero Section -->
        <section id="travel-hero" class="travel-hero section dark-background">

            <div class="hero-background">
                <video autoplay="" muted="" loop="">
                    <source src="~/assets/img/travel/video-2.mp4" type="video/mp4">
                </video>
                <div class="hero-overlay"></div>
            </div>

            <div class="container position-relative">
                <div class="row align-items-center">
                    <div class="col-lg-7">
                        <div class="hero-text" data-aos="fade-up" data-aos-delay="100">
                            <h1 class="hero-title">Discover Your Perfect Journey</h1>
                            <p class="hero-subtitle">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation.</p>
                            <div class="hero-buttons">
                                <a href="TourWeb/tours" class="btn btn-primary me-3">Start Exploring</a>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-5">
                        <div class="booking-form-wrapper" data-aos="fade-left" data-aos-delay="200">
                            <div class="booking-form">
                                <h3 class="form-title">Plan Your Adventure</h3>
                                <form asp-action="FilterTourList" asp-controller="TourWeb" method="get">
                                    <div class="form-group mb-3">
                                        <label for="searchValue">Search Tour</label>
                                        <input type="text" name="searchValue" id="searchValue" class="form-control" placeholder="Search by tour name...">
                                    </div>

                                    <div class="form-group mb-3">
                                        <label for="slcDestination">Destination</label>
                                        <select name="slcDestination" id="slcDestination" class="form-select">
                                            <option value="-1">All Destinations</option>
                                            @* Options will be populated from ViewBag if available *@
                                            @if (ViewBag.Destinations != null)
                                            {
                                                @foreach (var dest in ViewBag.Destinations)
                                                {
                                                    <option value="@dest.Id">@dest.LocationName</option>
                                                }
                                            }
                                        </select>
                                    </div>

                                    <div class="form-group mb-3">
                                        <label for="slcCategory">Tour Type</label>
                                        <select name="slcCategory" id="slcCategory" class="form-select">
                                            <option value="-1">All Categories</option>
                                            @* Options will be populated from ViewBag if available *@
                                            @if (ViewBag.Categories != null)
                                            {
                                                @foreach (var cat in ViewBag.Categories)
                                                {
                                                    <option value="@cat.Id">@cat.CategoryName</option>
                                                }
                                            }
                                        </select>
                                    </div>

                                    <div class="form-group mb-3">
                                        <label for="slcDuration">Duration</label>
                                        <select name="slcDuration" id="slcDuration" class="form-select">
                                            <option value="">All Durations</option>
                                            <option value="1-3">1-3 days</option>
                                            <option value="4-7">4-7 days</option>
                                            <option value="8-14">8-14 days</option>
                                            <option value="15+">15+ days</option>
                                        </select>
                                    </div>

                                    <div class="form-group mb-3">
                                        <label for="slcPriceRange">Price Range</label>
                                        <select name="slcPriceRange" id="slcPriceRange" class="form-select">
                                            <option value="">All Prices</option>
                                            <option value="0-1000000">Under 1,000,000 đ</option>
                                            <option value="1000000-3000000">1,000,000 - 3,000,000 đ</option>
                                            <option value="3000000-5000000">3,000,000 - 5,000,000 đ</option>
                                            <option value="5000000+">Over 5,000,000 đ</option>
                                        </select>
                                    </div>

                                    <button type="submit" class="btn btn-primary w-100">Find Your Perfect Trip</button>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

        </section><!-- /Travel Hero Section -->
        <!-- Why Us Section -->
        <section id="why-us" class="why-us section">

            <div class="container" data-aos="fade-up" data-aos-delay="100">

                <!-- About Us Content -->
                <div class="row align-items-center mb-5">
                    <div class="col-lg-6" data-aos="fade-right" data-aos-delay="200">
                        <div class="content">
                            @if (Model.AboutUs != null)
                            {
                                <h3>@Model.AboutUs.Title</h3>
                                @if (!string.IsNullOrEmpty(Model.AboutUs.Description1))
                                {
                                    <p>@Model.AboutUs.Description1</p>
                                }
                                @if (!string.IsNullOrEmpty(Model.AboutUs.Description2))
                                {
                                    <p>@Model.AboutUs.Description2</p>
                                }
                                @if (Model.AboutUs.Stats != null && Model.AboutUs.Stats.Any())
                                {
                                    <div class="stats-row">
                                        @foreach (var stat in Model.AboutUs.Stats)
                                        {
                                            <div class="stat-item">
                                                <span data-purecounter-start="@stat.StartValue" 
                                                      data-purecounter-end="@stat.EndValue" 
                                                      data-purecounter-duration="@stat.Duration" 
                                                      class="purecounter">0</span>
                                                <div class="stat-label">@stat.Label</div>
                                            </div>
                                        }
                                    </div>
                                }
                            }
                            else
                            {
                                <p class="text-muted">About us content is not available.</p>
                            }
                        </div>
                    </div>
                    <div class="col-lg-6" data-aos="fade-left" data-aos-delay="300">
                        <div class="about-image">
                            @if (Model.AboutUs != null && !string.IsNullOrEmpty(Model.AboutUs.ImageUrl))
                            {
                                <img src="@Model.AboutUs.ImageUrl" alt="@Model.AboutUs.ImageAlt" class="img-fluid rounded-4">
                                @if (!string.IsNullOrEmpty(Model.AboutUs.ExperienceNumber) && !string.IsNullOrEmpty(Model.AboutUs.ExperienceText))
                                {
                                    <div class="experience-badge">
                                        <div class="experience-number">@Model.AboutUs.ExperienceNumber</div>
                                        <div class="experience-text">@Model.AboutUs.ExperienceText</div>
                                    </div>
                                }
                            }
                            else
                            {
                                <img src="~/assets/img/travel/showcase-8.webp" alt="Travel Experience" class="img-fluid rounded-4">
                            }
                        </div>
                    </div>
                </div><!-- End About Us Content -->
                <!-- Why Choose Us -->
                <div class="why-choose-section">
                    <div class="row justify-content-center">
                        <div class="col-lg-8 text-center mb-5" data-aos="fade-up" data-aos-delay="100">
                            <h3>Why Choose Us for Your Next Adventure</h3>
                            <p>Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris.</p>
                        </div>
                    </div>

                    <div class="row g-4">
                        @if (Model.Features != null && Model.Features.Any())
                        {
                            @foreach (var feature in Model.Features)
                            {
                                <div class="col-lg-4 col-md-6" data-aos="fade-up" data-aos-delay="@feature.Delay">
                                    <div class="feature-card">
                                        <div class="feature-icon">
                                            <i class="@feature.Icon"></i>
                                        </div>
                                        <h4>@feature.Title</h4>
                                        <p>@feature.Description</p>
                                    </div>
                                </div>
                            }
                        }
                        else
                        {
                            <div class="col-12 text-center">
                                <p class="text-muted">No features available.</p>
                            </div>
                        }
                    </div><!-- End Features Grid -->
                </div><!-- End Why Choose Us -->

            </div>

        </section><!-- /Why Us Section -->
        <!-- Featured Destinations Section -->
        
        <!-- Featured Tours Section -->
        <section id="featured-destinations" class="featured-destinations section">

            <!-- Section Title -->
            <div class="container section-title" data-aos="fade-up">
                <h2>Featured Destinations</h2>
                <div><span>Explore</span> <span class="description-title">Amazing Travel Tours</span></div>
            </div><!-- End Section Title -->

            <div class="container" data-aos="fade-up" data-aos-delay="100">

                @if (Model.TourRatings != null && Model.TourRatings.Any())
                {
                    <div class="row">

                        @* Featured tour - Display large on the left *@
                        @if (Model.TourRatings.Count() > 0)
                        {
                            var featuredTour = Model.TourRatings.First();
                            <div class="col-lg-6" data-aos="zoom-in" data-aos-delay="200">
                                <div class="featured-destination">
                                    <div class="destination-overlay">
                                        <img src="@featuredTour.Image" alt="@featuredTour.TourName" class="img-fluid">
                                        <div class="destination-info">
                                            <span class="destination-tag">Most Popular</span>
                                            <h3>@featuredTour.TourName</h3>
                                            <p class="description">@featuredTour.Description</p>
                                            <div class="destination-meta">
                                                <div class="rating">
                                                    <i class="bi bi-star-fill"></i>
                                                    <span>@featuredTour.AverageRating.ToString("F1") (@featuredTour.ReviewCount)</span>
                                                </div>
                                            </div>
                                            <div class="price-info">
                                                <span class="starting-from">Starting from</span>
                                                <span class="amount">@featuredTour.Price.ToString("N0") đ</span>
                                            </div>
                                            <a href="/TourWeb/TourDetails?tourId=@featuredTour.TourId" class="explore-btn">
                                                <span>Explore Now</span>
                                                <i class="bi bi-arrow-right"></i>
                                            </a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        }

                        @* Other tours - Display compact on the right *@
                        <div class="col-lg-6">
                            <div class="row g-3">

                                @foreach (var tour in Model.TourRatings.Skip(1).Take(3))
                                {
                                    var delay = 300 + (Model.TourRatings.ToList().IndexOf(tour) * 100);
                                    <div class="col-12" data-aos="fade-left" data-aos-delay="@delay">
                                        <div class="compact-destination">
                                            <div class="destination-image">
                                                <img src="@tour.Image" alt="@tour.TourName" class="img-fluid">
                                                @if (tour.AverageRating >= 4.8m)
                                                {
                                                    <div class="badge-offer">Top Rated</div>
                                                }
                                            </div>
                                            <div class="destination-details">
                                                <h4>@tour.TourName</h4>
                                                <p class="brief">@tour.Description</p>
                                                <div class="stats-row">
                                                    <span class="rating">
                                                        <i class="bi bi-star-fill"></i>
                                                        @tour.AverageRating.ToString("F1")
                                                    </span>
                                                    <span class="price">from @tour.Price.ToString("N0") đ</span>
                                                </div>
                                                <a href="/TourWeb/TourDetails?tourId=@tour.TourId" class="quick-link">
                                                    View Details <i class="bi bi-chevron-right"></i>
                                                </a>
                                            </div>
                                        </div>
                                    </div>
                                }

                            </div>
                        </div>

                    </div>
                }
                else
                {
                    <div class="alert alert-info text-center">
                        <i class="bi bi-info-circle"></i> No tours available at the moment.
                    </div>
                }

            </div>

        </section><!-- /Featured Destinations Section -->
        <!-- Testimonials Home Section -->
        <section id="testimonials-home" class="testimonials-home section">

            <!-- Section Title -->
            <div class="container section-title" data-aos="fade-up">
                <h2>Testimonials</h2>
                <div><span>What Our Customers</span> <span class="description-title">Are Saying</span></div>
            </div><!-- End Section Title -->

            <div class="container" data-aos="fade-up" data-aos-delay="100">

                <div class="swiper init-swiper">
                    <script type="application/json" class="swiper-config">
                        {
                          "loop": true,
                          "speed": 600,
                          "autoplay": {
                            "delay": 5000
                          },
                          "slidesPerView": "auto",
                          "pagination": {
                            "el": ".swiper-pagination",
                            "type": "bullets",
                            "clickable": true
                          },
                          "breakpoints": {
                            "320": {
                              "slidesPerView": 1,
                              "spaceBetween": 40
                            },
                            "1200": {
                              "slidesPerView": 3,
                              "spaceBetween": 1
                            }
                          }
                        }
                    </script>
                    <div class="swiper-wrapper">
                        @foreach (var review in Model.Reviews)
                        {
                            <div class="swiper-slide">
                                <div class="testimonial-item">
                                    <p>
                                        <i class="bi bi-quote quote-icon-left"></i>
                                        <span>@review.Comment</span>
                                        <i class="bi bi-quote quote-icon-right"></i>
                                    </p>
                                    <h3>@review.UserName</h3>
                                    <h4>
                                        @for (int i = 0; i < review.Stars; i++)
                                        {
                                            <i class="bi bi-star-fill"></i>
                                        }
                                        @for (int i = review.Stars; i < 5; i++)
                                        {
                                            <i class="bi bi-star"></i>
                                        }
                                    </h4>
                                </div>
                            </div>
                        }
                    </div>

                    <div class="swiper-pagination"></div>
                </div>

            </div>

        </section><!-- /Testimonials Home Section -->
        <!-- Call To Action Section -->
    </main>
    <!-- Scroll Top -->
    <a href="#" id="scroll-top" class="scroll-top d-flex align-items-center justify-content-center"><i class="bi bi-arrow-up-short"></i></a>

    <!-- Preloader -->
    <div id="preloader"></div>

    <!-- Vendor JS Files -->
    <script src="~/assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
    <script src="~/assets/vendor/php-email-form/validate.js"></script>
    <script src="~/assets/vendor/aos/aos.js"></script>
    <script src="~/assets/vendor/purecounter/purecounter_vanilla.js"></script>
    <script src="~/assets/vendor/swiper/swiper-bundle.min.js"></script>
    <script src="~/assets/vendor/isotope-layout/isotope.pkgd.min.js"></script>
    <script src="~/assets/vendor/imagesloaded/imagesloaded.pkgd.min.js"></script>
    <script src="~/assets/vendor/glightbox/js/glightbox.min.js"></script>

    <!-- Main JS File -->
    <script src="~/assets/js/main.js"></script>

</body>

</html>